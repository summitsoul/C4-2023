<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .box {
      width: 100%;
      height: 800px;
    }
  </style>
</head>

<body>
  <div class="box"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"
    integrity="sha512-EmNxF3E6bM0Xg1zvmkeYD3HDBeGxtsG92IxFt1myNZhXdCav9MzvuH/zNMBU1DmIPN6njrhX1VTbqdJxQ2wHDg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    let box = document.querySelector('.box')
    var myChart = echarts.init(box);

    let X = 200
    let Y = 200
    let dataSource = [
      {
        name: '节点1',
        x: 0,
        y: 300,
      }, {
        name: '节点2',
        x: 300,
        y: 300
      }, {
        name: '节点3',
        x: 600,
        y: 300
      }, {
        name: '节点4',
        x: 900,
        y: 300
      },

      {
        name: '节点11',
        x: -50,
        y: 500
      }, {
        name: '节点12',
        x: 50,
        y: 500
      }, {
        name: '节点13',
        x: -50,
        y: 650
      }, {
        name: '节点14',
        x: 50,
        y: 650
      },

      {
        name: '节点21',
        x: 250,
        y: 500
      }, {
        name: '节点22',
        x: 350,
        y: 500
      }, {
        name: '节点23',
        x: 250,
        y: 650
      }, {
        name: '节点24',
        x: 350,
        y: 650
      },

      {
        name: '节点31',
        x: 550,
        y: 500
      }, {
        name: '节点32',
        x: 650,
        y: 500
      }, {
        name: '节点33',
        x: 550,
        y: 650
      }, {
        name: '节点34',
        x: 650,
        y: 650
      },

      {
        name: '节点41',
        x: 850,
        y: 500
      }, {
        name: '节点42',
        x: 950,
        y: 500
      }, {
        name: '节点43',
        x: 850,
        y: 650
      }, {
        name: '节点44',
        x: 950,
        y: 650
      },

      {
        name: '节点111',
        x: -50,
        y: 750,
        itemStyle: { color: 'green' }

      }, {
        name: '节点121',
        x: 50,
        y: 750,
        itemStyle: { color: 'green' }

      }, {
        name: '节点131',
        x: 250,
        y: 750,
        itemStyle: { color: 'green' }

      }, {
        name: '节点141',
        x: 350,
        y: 750,
        itemStyle: { color: 'green' }

      },
      {
        name: '节点151',
        x: 550,
        y: 750,
        itemStyle: { color: 'green' }

      }, {
        name: '节点161',
        x: 650,
        y: 750,
        itemStyle: { color: 'green' }

      }, {
        name: '节点171',
        x: 850,
        y: 750,
        itemStyle: { color: 'green' }

      }, {
        name: '节点181',
        x: 950,
        y: 750,
        itemStyle: { color: 'green' }

      }

    ]
    let links = [
      {
        source: 0,
        target: 4,
        symbol: 'none'
      }, {
        source: 0,
        target: 8,
        symbol: 'none'
      }, {
        source: 0,
        target: 12,
        symbol: 'none'
      }, {
        source: 0,
        target: 16,
        symbol: 'none'
      },

      {
        source: 1,
        target: 4,
        symbol: 'none'
      }, {
        source: 1,
        target: 8,
        symbol: 'none'
      }, {
        source: 1,
        target: 12,
        symbol: 'none'
      }, {
        source: 1,
        target: 16,
        symbol: 'none'
      },

      {
        source: 2,
        target: 5,
        symbol: 'none'
      }, {
        source: 2,
        target: 9,
        symbol: 'none'
      }, {
        source: 2,
        target: 13,
        symbol: 'none'
      }, {
        source: 2,
        target: 17,
        symbol: 'none'
      },

      {
        source: 3,
        target: 5,
        symbol: 'none'
      }, {
        source: 3,
        target: 9,
        symbol: 'none'
      }, {
        source: 3,
        target: 13,
        symbol: 'none'
      }, {
        source: 3,
        target: 17,
        symbol: 'none'
      },

      {
        source: 4,
        target: 6,
        symbol: 'none'
      }, {
        source: 4,
        target: 7,
        symbol: 'none'
      }, {
        source: 5,
        target: 6,
        symbol: 'none'
      }, {
        source: 5,
        target: 7,
        symbol: 'none'
      },

      {
        source: 8,
        target: 10,
        symbol: 'none'
      }, {
        source: 8,
        target: 11,
        symbol: 'none'
      }, {
        source: 9,
        target: 10,
        symbol: 'none'
      }, {
        source: 9,
        target: 11,
        symbol: 'none'
      },

      {
        source: 12,
        target: 14,
        symbol: 'none'
      }, {
        source: 12,
        target: 15,
        symbol: 'none'
      }, {
        source: 13,
        target: 14,
        symbol: 'none'
      }, {
        source: 13,
        target: 15,
        symbol: 'none'
      },

      {
        source: 16,
        target: 18,
        symbol: 'none'
      }, {
        source: 16,
        target: 19,
        symbol: 'none'
      }, {
        source: 17,
        target: 18,
        symbol: 'none'
      }, {
        source: 17,
        target: 19,
        symbol: 'none'
      },

      {
        source: 6,
        target: 20,
        symbol: 'none'
      }, {
        source: 7,
        target: 21,
        symbol: 'none'
      }, {
        source: 8,
        target: 22,
        symbol: 'none'
      }, {
        source: 9,
        target: 23,
        symbol: 'none'
      },

      {
        source: 12,
        target: 24,
        symbol: 'none'
      }, {
        source: 13,
        target: 25,
        symbol: 'none'
      }, {
        source: 16,
        target: 26,
        symbol: 'none'
      }, {
        source: 17,
        target: 27,
        symbol: 'none'
      },

    ]

    let option = {
      title: {
        text: this.title
      },
      tooltip: {
        //show: true,
        //enterable: true,//鼠标是否可进入提示框浮层中
        formatter: formatterHover,//修改鼠标悬停显示的内容
      },
      legend: [{
        data: dataSource.map(function (a) {
          return a.name;
        })
      }],
      series: [
        {
          type: 'graph',
          layout: 'none', //none' 不采用任何布局，使用节点中提供的 x， y 作为节点的位置.'circular' 采用环形布局，'force' 采用力引导布局。
          symbolSize: 50,
          //categories: dataSource, //是否显示图例
          focusNodeAdjacency: true,  //鼠标放置上去 显示当前的连接
          draggable: true, //是否支持拖拽   只有layout 为 force 的时候才可以用
          roam: true, //是否支持拖动和缩放
          animation: true, //是否需要加载
          animationDurationUpdate: 5000,//加载动画时间
          animationEasingUpdate: 'backIn',//动画类型
          label: {
            normal: {
              show: true,//是否显示标签。
              position: 'bottom',//标签的位置。['50%', '50%'] [x,y]   'inside'
              textStyle: { //标签的字体样式
                color: '#3489ff', //字体颜色
                fontStyle: 'normal',//文字字体的风格 'normal'标准 'italic'斜体 'oblique' 倾斜
                fontWeight: 'bolder',//'normal'标准'bold'粗的'bolder'更粗的'lighter'更细的或100 | 200 | 300 | 400...
                fontFamily: 'sans-serif', //文字的字体系列
                fontSize: 12, //字体大小
              }
            },
          },
          itemStyle: {
            borderColor: '#fff',
            borderWidth: 1,
            shadowBlur: 10,
            shadowColor: 'rgba(0, 0, 0, 0.3)'
          },
          edgeSymbol: ['none', 'arrow'],
          data: dataSource,
          links: links,
          lineStyle: {
            opacity: 0.9,
            width: 2,
            curveness: 0,
            color: '#000000'
          },
          emphasis: {
            lineStyle: {
              width: 6
            }
          }
        }
      ],
      markPoint: {},
    };
    function formatterHover(params) {
      let currData = params.data
      if (params.dataType === 'node') {
        //鼠标到节点
        return currData.name
      } else {
        //鼠标到线条
        return currData.name
      }
    }
    myChart.setOption(option)

  </script>

</body>

</html>